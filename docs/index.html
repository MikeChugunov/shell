<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Shell  Reference</title>
    <link rel='stylesheet' type='text/css' href='css/jazzy.css' />
    <link rel='stylesheet' type='text/css' href='css/highlight.css' />
    <meta charset='utf-8'>
    <script src='js/jquery.min.js' defer></script>
    <script src='js/jazzy.js' defer></script>
  </head>
  <body>


    <a title='Shell  Reference'></a>

    <header class='header'>
      <p class='header-col header-col--primary'>
        <a class='header-link' href='index.html'>
          Shell Docs
        </a>
         (73% documented)
      </p>
    
        <p class='header-col header-col--secondary'>
          <a class='header-link' href='https://github.com/tuist/shell'>
            <img class='header-icon' src='img/gh.png'/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class='breadcrumbs'>
      <a class='breadcrumb' href='index.html'>Shell Reference</a>
      <img class='carat' src='' />
      Shell  Reference
    </p>

    <div class='content-wrapper'>
      <nav class='navigation'>
        <ul class='nav-groups'>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Classes.html'>Classes</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/Shell.html'>Shell</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Extensions.html'>Extensions</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/String.html'>String</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Structures.html'>Structures</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/ProcessRunnerResult.html'>ProcessRunnerResult</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class='main-content'>

        <section class='section'>
          <div class='section-content'>
            
            <h1 id='shell' class='heading'>üß™ Shell</h1>

<p>Shell is a ¬µ-library written Swift to run shell tasks.</p>

<p><a href="https://circleci.com/gh/tuist/shell"><img src="https://circleci.com/gh/tuist/shell.svg?style=svg" alt="CircleCI"></a>
<a href="https://swift.org/package-manager/"><img src="https://img.shields.io/badge/swift%20package%20manager-compatible-brightgreen.svg" alt="Swift Package Manager"></a>
<a href="https://github.com/tuist/shell/releases"><img src="https://img.shields.io/github/release/tuist/shell.svg" alt="Release"></a>
<a href="https://codecov.io/gh/tuist/shell"><img src="https://codecov.io/gh/tuist/shell/branch/master/graph/badge.svg" alt="Code Coverage"></a>
<a href="http://slack.tuist.io/"><img src="http://slack.tuist.io/badge.svg" alt="Slack"></a>
<a href="https://github.com/tuist/shell/blob/master/LICENSE.md"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License"></a>
<a href="https://saythanks.io/to/pepibumur"><img src="https://img.shields.io/badge/Say%20Thanks-!-1EAEDB.svg" alt="Say Thanks!"></a>
<img src="https://opencollective.com/tuistapp/tiers/backer/badge.svg?label=backer&color=brightgreen" />
<img src="https://opencollective.com/tuistapp/tiers/sponsor/badge.svg?label=sponsor&color=brightgreen" />
<a href="https://spectrum.chat/tuist"><img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum"></a></p>
<h2 id='install' class='heading'>Install üõ†</h2>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p>Add the dependency in your <code>Package.swift</code> file:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"myproject"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/tuist/shell.git"</span><span class="p">,</span> <span class="o">.</span><span class="nf">upToNextMajor</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="s">"0.3.1"</span><span class="p">)),</span>
        <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"myproject"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"shell"</span><span class="p">]),</span>
        <span class="p">]</span>
<span class="p">)</span>
</code></pre>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p>Add the following line to your project Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"Shell"</span><span class="p">,</span> <span class="s2">"0.3.1"</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Add the following line to your project Cartfile:</p>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"tuist/shell"</span> <span class="s2">"0.3.1"</span>
</code></pre>
<h2 id='usage' class='heading'>Usage üöÄ</h2>

<p>To run commands in the system, you need to create an instance of <code><a href="Classes/Shell.html">Shell</a></code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">shell</span> <span class="o">=</span> <span class="kt">Shell</span><span class="p">()</span>
</code></pre>

<p>Shell exposes methods for running the commands synchronously, asynchronously, and capturing the output:</p>
<pre class="highlight swift"><code><span class="c1">// Synchronous running</span>
<span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">shell</span><span class="o">.</span><span class="nf">sync</span><span class="p">(</span><span class="s">"xcodebuild"</span><span class="p">,</span> <span class="s">"-project"</span><span class="p">,</span> <span class="s">"Shell"</span><span class="p">,</span> <span class="s">"-scheme"</span><span class="p">,</span> <span class="s">"Shell"</span><span class="p">)</span>

<span class="c1">// Asynchronous running</span>
<span class="n">shell</span><span class="o">.</span><span class="nf">async</span><span class="p">(</span><span class="s">"xcodebuild"</span><span class="p">,</span> <span class="s">"-project"</span><span class="p">,</span> <span class="s">"Shell"</span><span class="p">,</span> <span class="s">"-scheme"</span><span class="p">,</span> <span class="s">"Shell"</span><span class="p">,</span> <span class="nv">onCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
  <span class="c1">// Process the result</span>
<span class="p">})</span>

<span class="c1">// Capturing output</span>
<span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">shell</span><span class="o">.</span><span class="nf">capture</span><span class="p">(</span><span class="s">"xcode-select"</span><span class="p">,</span> <span class="s">"-p"</span><span class="p">)</span>
</code></pre>
<h2 id='testing' class='heading'>Testing ‚úÖ</h2>

<p>We understand how inconvenient testing might be in Swift and thus, we designed Shell&rsquo;s API to facilitate testing by avoiding many syntactic sugar and static interfaces. The library comes with a library, <code>ShellTesting</code> that you can import in your tests target to mock the <code><a href="Classes/Shell.html">Shell</a></code> interface and stub the result of running commands:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">ShellTesting</span>

<span class="k">let</span> <span class="nv">mock</span> <span class="o">=</span> <span class="kt">Shell</span><span class="o">.</span><span class="nf">mock</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">xcodebuild</span> <span class="o">=</span> <span class="kt">XcodeBuild</span><span class="p">(</span><span class="nv">shell</span><span class="p">:</span> <span class="n">mock</span><span class="p">)</span>

<span class="n">shell</span><span class="o">.</span><span class="nf">succeed</span><span class="p">(</span><span class="s">"xcodebuild"</span><span class="p">,</span> <span class="s">"-project"</span><span class="p">,</span> <span class="s">"Shell.xcodeproj"</span><span class="p">,</span> <span class="s">"-scheme"</span><span class="p">,</span> <span class="s">"Shell"</span><span class="p">)</span>

<span class="kt">XCTAssertNoThrow</span><span class="p">(</span><span class="k">try</span> <span class="n">xcodebuild</span><span class="o">.</span><span class="nf">build</span><span class="p">(</span><span class="nv">project</span><span class="p">:</span> <span class="s">"Shell.xcodeproj"</span><span class="p">,</span> <span class="nv">scheme</span><span class="p">:</span> <span class="s">"Shell"</span><span class="p">))</span>
</code></pre>
<h2 id='setup-for-development' class='heading'>Setup for development üë©‚Äçüíª</h2>

<ol>
<li>Git clone: <code>git@github.com:tuist/shell.git</code></li>
<li>Generate Xcode project with <code>swift package generate-xcodeproj</code>.</li>
<li>Open <code>Shell.xcodeproj</code>.</li>
<li>Have fun ü§ñ</li>
</ol>
<h2 id='open-source' class='heading'>Open source</h2>

<p>Tuist is a proud supporter of the <a href="https://sfconservancy.org/">Software Freedom Conservacy</a></p>

<p><a href="https://sfconservancy.org/supporter/"><img src="https://sfconservancy.org/img/supporter-badge.png" width="194" height="90" alt="Become a Conservancy Supporter!" border="0"/></a></p>

          </div>
        </section>


      </article>
    </div>
    <section class='footer'>
      <p>¬© 2018 <a class="link" href="https://github.com/tuist" target="_blank" rel="external">Tuist</a>. All rights reserved.</p>
      <p>Generated by <a class='link' href='https://github.com/realm/jazzy' target='_blank' rel='external'>jazzy ‚ô™‚ô´ v0.9.4</a>, a <a class='link' href='http://realm.io' target='_blank' rel='external'>Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
